doctype 5
html(lang='en')
  head
    meta(charset='utf-8')
    title Incredible Art

    script.
      function demo() {}

    script(src='dependencies/zepto.js', type='text/javascript')
    script(src='dependencies/underscore-min.js', type='text/javascript')
    script(src='util.coffee', type='text/javascript')
    script(src='starImage.coffee', type='text/javascript')
    script(src='webcam.coffee', type='text/javascript')
    script(src='image.coffee', type='text/javascript')
    script(src='star.coffee', type='text/javascript')
    script(src='forces.coffee', type='text/javascript')
    script(src='midi.coffee', type='text/javascript')
    script(src='#{demo}', type='text/javascript')

    style.
      body {background-color:black}
      .layer {border:1px solid #333}
      video {border:1px solid red}

    script.
      function init(starImage) {
        Star.prototype.starImage = starImage
        Star.prototype.setCanvas($('.layer')[0]);
        demo();
      }

  body(onLoad="loadStarImage(init)")
    .container
      canvas.layer(width="1000", height="1000")
      canvas#secret(width="1000", height="500")

    video#video(width="320", height="240")
    canvas#videodump(width="320", height="240")
